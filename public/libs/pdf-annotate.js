!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PDFAnnotate=e():t.PDFAnnotate=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function o(){void 0!==i&&t.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==e&&(i=function(n){t.removeListener(e,o),r(n)},t.once("error",i)),t.once(e,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var o,i,a;if(c(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"==typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(t))>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,console&&console.warn}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):v(o,o.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)i(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,o,i,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";function r(t){throw new Error(t+" is not implemented")}n.r(e);var o=n(0),i=new(n.n(o).a);function a(){i.emit.apply(i,arguments)}function s(){i.on.apply(i,arguments)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,t),Object.keys(n).forEach((function(t){"function"==typeof n[t]&&"function"==typeof e[t]&&(e[t]=n[t])}))}var e,n,o;return e=t,(n=[{key:"__getAnnotations",value:function(t,e){r("getAnnotations")}},{key:"getAnnotation",value:function(t,e){r("getAnnotation")}},{key:"__addAnnotation",value:function(t,e,n){r("addAnnotation")}},{key:"__editAnnotation",value:function(t,e,n){r("editAnnotation")}},{key:"__deleteAnnotation",value:function(t,e){r("deleteAnnotation")}},{key:"getComments",value:function(t,e){r("getComments")}},{key:"__addComment",value:function(t,e,n,o,i){r("addComment")}},{key:"__deleteComment",value:function(t,e){r("deleteComment")}},{key:"__updateAnnotations",value:function(t,e){r("updateAnnotations")}},{key:"getAnnotations",get:function(){return this.__getAnnotations},set:function(t){this.__getAnnotations=function(e,n){return t.apply(void 0,arguments).then((function(t){return t.annotations&&t.annotations.forEach((function(t){t.documentId=e})),t}))}}},{key:"addAnnotation",get:function(){return this.__addAnnotation},set:function(t){this.__addAnnotation=function(e,n,r){return t.apply(void 0,arguments).then((function(t){return a("annotation:add",e,n,t),t}))}}},{key:"editAnnotation",get:function(){return this.__editAnnotation},set:function(t){this.__editAnnotation=function(e,n,r){return t.apply(void 0,arguments).then((function(t){return a("annotation:edit",e,n,t),t}))}}},{key:"deleteAnnotation",get:function(){return this.__deleteAnnotation},set:function(t){this.__deleteAnnotation=function(e,n){return t.apply(void 0,arguments).then((function(t){return t&&a("annotation:delete",e,n),t}))}}},{key:"addComment",get:function(){return this.__addComment},set:function(t){this.__addComment=function(e,n,r,o,i){return t.apply(void 0,arguments).then((function(t){return a("comment:add",e,n,t,o,i),t}))}}},{key:"deleteComment",get:function(){return this.__deleteComment},set:function(t){this.__deleteComment=function(e,n){return t.apply(void 0,arguments).then((function(t){return t&&a("comment:delete",e,n),t}))}}},{key:"updateAnnotations",get:function(){return this.__updateAnnotations},set:function(t){this.__updateAnnotations=function(e,n){t.apply(void 0,arguments),a("annotation:updated",e,n)}}}])&&c(e.prototype,n),o&&c(e,o),t}(),f=/[xy]/g;function d(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(f,d)}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(n,t);var e=v(n);function n(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(t=e.call(this,{getAnnotations:function(t,e){return new Promise((function(n,r){var o=w(t).filter((function(t){return t.page===e&&"Annotation"===t.class}));n({documentId:t,pageNumber:e,annotations:o})}))}})).getAnnotation=function(t,e){return Promise.resolve(w(t)[x(t,e)])},t.addAnnotation=function(e,n,r){return new Promise((function(o,i){r.class="Annotation",r.uuid=p(),r.page=n;var a=w(e);a.push(r),t.updateAnnotations(e,a),o(r)}))},t.editAnnotation=function(e,n,r){return new Promise((function(o,i){var a=w(e);a[x(e,n)]=r,t.updateAnnotations(e,a),o(r)}))},t.deleteAnnotation=function(e,n){return new Promise((function(r,o){if(!(w(e).filter((function(t){return t.uuid===n}))[0]||{}))return o("Could not find annotation");var i=x(e,n);if(i>-1){var a=w(e);a.splice(i,1),t.updateAnnotations(e,a)}r(!0)}))},t.getComments=function(t,e){return new Promise((function(n,r){n(w(t).filter((function(t){return"Comment"===t.class&&t.annotation===e})))}))},t.addComment=function(e,n,r,o,i){return new Promise((function(a,s){var u={class:"Comment",uuid:p(),annotation:n,content:r,dataString:o,author:i},c=w(e);c.push(u),t.updateAnnotations(e,c),a(u)}))},t.deleteComment=function(e,n){return new Promise((function(r,o){if(!(w(e).filter((function(t){return t.uuid===n}))[0]||{}))return o("Could not find annotation");for(var i=-1,a=w(e),s=0,u=a.length;s<u;s++)if(a[s].uuid===n){i=s;break}i>-1&&(a.splice(i,1),t.updateAnnotations(e,a)),r(!0)}))},t.updateAnnotations=function(t,e){return function(t,e){localStorage.setItem("".concat(t,"/annotations"),JSON.stringify(e))}(t,e)},t}return n}(l);function w(t){return JSON.parse(localStorage.getItem("".concat(t,"/annotations")))||[]}function x(t,e){for(var n=-1,r=w(t),o=0,i=r.length;o<i;o++)if(r[o].uuid===e){n=o;break}return n}function S(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(i,t);var e,n,r,o=E(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C(this,i),(t=o.call(this,{getAnnotations:function(t,e){return new Promise((function(n,r){var o=R(t).filter((function(t){return t.page===e&&"Annotation"===t.class}));n({documentId:t,pageNumber:e,annotations:o})}))}}))._userId=e,t._globalEdit=n,t.getAnnotation=function(e,n){return Promise.resolve(I(e,t._userId)[_(e,t._userId,n)])},t.addAnnotation=function(e,n,r){return new Promise((function(o,i){r.class="Annotation",r.uuid=p(),r.page=n,r.userId=t._userId;var a=I(e,t._userId);a.push(r),t.updateAnnotations(e,t._userId,a),o(r)}))},t.editAnnotation=function(e,n,r){return new Promise((function(o,i){!t._globalEdit&&r.userId&&r.userId!==t._userId&&i("Non-matching userId");var a=I(e,r.userId);a[_(e,r.userId,n)]=r,t.updateAnnotations(e,r.userId,a),o(r)}))},t.deleteAnnotation=function(e,n){return new Promise((function(r,o){var i=R(e).filter((function(t){return t.uuid===n}))[0]||{};if(!i)return o("Could not find annotation");if(!t._globalEdit&&i.userId&&i.userId!==t._userId)return o("Non-matching userId");var a=_(e,i.userId,n);if(a>-1){var s=I(e,i.userId);s.splice(a,1),t.updateAnnotations(e,i.userId,s)}r(!0)}))},t.getComments=function(e,n){return new Promise((function(r,o){r(I(e,t._userId).filter((function(t){return"Comment"===t.class&&t.annotation===n})))}))},t.addComment=function(e,n,r){return new Promise((function(o,i){var a={class:"Comment",uuid:p(),annotation:n,content:r,userId:t._userId},s=I(e,t._userId);s.push(a),t.updateAnnotations(e,t._userId,s),o(a)}))},t.deleteComment=function(e,n){return new Promise((function(r,o){var i=R(e).filter((function(t){return t.uuid===n}))[0]||{};if(!i)return o("Could not find annotation");if(!t._globalEdit&&i.userId&&i.userId!==t._userId)return o("Non-matching userId");for(var a=-1,s=I(e,i.userId),u=0,c=s.length;u<c;u++)if(s[u].uuid===n){a=u;break}a>-1&&(s.splice(a,1),t.updateAnnotations(e,i.userId,s)),r(!0)}))},t.updateAnnotations=function(t,e){return T(t,e)},t}return e=i,(n=[{key:"userId",get:function(){return this._userId}}])&&A(e.prototype,n),r&&A(e,r),i}(l);function R(t){for(var e=[],n=new RegExp("".concat(t,"/(.*)/annotations")),r=0;r<localStorage.length;r++)localStorage.key(r).search(n)>-1&&e.push.apply(e,S(JSON.parse(localStorage.getItem(localStorage.key(r)))));return e}function I(t,e){return JSON.parse(localStorage.getItem("".concat(t,"/").concat(e,"/annotations")))||[]}function T(t,e,n){localStorage.setItem("".concat(t,"/").concat(e,"/annotations"),JSON.stringify(n))}function _(t,e,n){for(var r=-1,o=I(t,e),i=0,a=o.length;i<a;i++)if(o[i].uuid===n){r=i;break}return r}var F=/[A-Z]/g,D=["viewBox"];function M(t,e){Object.keys(e).forEach((function(n){t.setAttribute(function(t){return-1===D.indexOf(t)&&(t=t.replace(F,(function(t){return"-"+t.toLowerCase()}))),t}(n),e[n])}))}var B=/^([a-f0-9]{6}|[a-f0-9]{3})$/i;function q(t){return B.test(t)&&(t="#".concat(t)),t}var U={NoSmoothing:1,SharpCurves:4,SmoothCurves:8,VerySmoothCurves:12,SuperSmoothCurves:16,HyperSmoothCurves:20};Object.freeze(U);var z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U.SmoothCurves;if(e===U.NoSmoothing)return t;var n=[],r=function(t){for(n.push(t);n.length>e;)n.shift()},o=function(t){var r=n.length;if(r%2==1||r>=e){for(var o=0,i=0,a=0,s=t;s<r;s++){a++;var u=n[s];o+=u.x,i+=u.y}return{x:o/a,y:i/a}}return null},i=[];i.push(t[0]);for(var a=1;a<t.length;a++){r(t[a]);var s=o(0);if(s&&(i.push(s),a+1===t.length))for(var u=2;u<n.length;u+=2)(s=o(u))&&i.push(s)}return i},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U.SmoothCurves;if(e===U.NoSmoothing)return t;for(var n=[],r=0;r<t.length;r++)n.push({x:Number(t[r][0]),y:Number(t[r][1])});n=z(n,e);for(var o=[],i=0;i<n.length;i++)o.push([n[i].x.toFixed(2),n[i].y.toFixed(2)]);return o};function V(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return t.paths.forEach((function(t){var n=function(t){var e=W(t,U.SmoothCurves),n=[];if(e.length>0){n.push("M".concat(e[0][0]," ").concat(e[0][1]));for(var r=1,o=e.length;r<o;r++){var i=e[r];e[r+1]&&n.push("L".concat(i[0]," ").concat(i[1]))}}var a=document.createElementNS("http://www.w3.org/2000/svg","path");return M(a,{d:"".concat(n.join(" "))}),a}(t);e.appendChild(n)})),M(e,{stroke:q(t.strokeColor),strokeWidth:t.strokeWidth,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",fill:"none",opacity:t.opacity}),e}function H(t){var e,n,r,o;return t.forEach((function(t){e=null!=e?Math.min(e,t.x):t.x,r=null!=r?Math.max(r,t.x+t.width):t.x+t.width,n=null!=n?Math.min(n,t.y):t.y,o=null!=o?Math.max(o,t.y+t.height):t.y+t.height})),{x:e,y:n,width:r-e,height:o-n}}function J(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return M(e,{x:t.x,y:t.y,width:t.width,height:t.height}),e}function K(t){var e=J(t);return M(e,{opacity:0}),e}function Y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FF0000",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/Helvetica",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=t.split("\n"),c=document.createElement("div");c.contentEditable="false",c.style.color=e,c.style.fontSize="".concat(Math.floor(r),"px"),c.style.fontFamily="".concat(n.replace("/","")),c.style.fontStyle=i?"italic":"normal",c.style.fontWeight=o?"bold":"normal",c.style.textDecoration=a&&s?"underline line-through":a?"underline":s?"line-through":"none",c.style.visibility="hidden",c.style.position="absolute",c.style.padding="0",c.style.margin="0",c.style.left="0",c.style.top="0",c.style.overflow="visible",c.style.whiteSpace="nowrap",c.textContent=u[0];for(var l=1;l<u.length;l++){var f=document.createElement("div");f.textContent=u[l],c.appendChild(f)}return document.body.appendChild(c),c}function X(t){document.body.removeChild(t)}function $(t){var e=[],n=parseInt(t.style.left,10),r=parseInt(t.style.top,10),o=parseInt(t.style.fontSize),i=Math.ceil((a=t.firstChild,s=document.createRange(),s.selectNode(a),s.getBoundingClientRect()).height);r+=o-Math.ceil((i-o)/2);var a,s,u=t.getElementsByTagName("div");if(0===u.length)e.push({x:n,y:r,content:t.textContent});else{var c=t.firstChild;"#text"===(null==c?void 0:c.nodeName)&&e.push({x:n,y:r,content:c.data});for(var l=0;l<u.length;l++){var f=u[l],d=f.firstChild;r+=f.getBoundingClientRect().height,"#text"===(null==d?void 0:d.nodeName)&&e.push({x:n,y:r,content:d.data})}}return e}function Q(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"/Helvetica",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:12,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9&&void 0!==arguments[9]&&arguments[9],l=function(t,e){var n=t.measureText(e);return{width:Math.floor(n.width),height:Math.floor(n.fontBoundingBoxAscent+n.fontBoundingBoxDescent),actualHeight:Math.floor(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}},f=function(t,e,n,r){var o=l(t,e),i=Math.floor(1.4*o.actualHeight),a=Math.ceil(.08*i);switch(t.textAlign){case"center":n-=o.width/2;break;case"right":n-=o.width}switch(t.textBaseline){case"top":r+=i;break;case"middle":r+=i/2}t.save(),t.beginPath(),t.strokeStyle=t.fillStyle,t.lineWidth=a,t.moveTo(n,r+a),t.lineTo(n+o.width,r+a),t.stroke(),t.restore()},d=function(t,e,n,r){var o=l(t,e),i=Math.floor(1.4*o.actualHeight),a=Math.ceil(.08*i);switch(t.textAlign){case"center":n-=o.width/2;break;case"right":n-=o.width}switch(t.textBaseline){case"top":r+=i;break;case"middle":r+=i/2}t.save(),t.beginPath(),t.strokeStyle=t.fillStyle,t.lineWidth=a,t.moveTo(n,r-o.height/2+a),t.lineTo(n+o.width,r-o.height/2+a),t.stroke(),t.restore()},p=document.createElement("canvas"),h=2,g=2,v=t.width,y=t.height;p.width=v*h,p.height=y*g;var m=p.getContext("2d");if(!m)return null;if(m.scale(h,g),m.imageSmoothingEnabled=!1,n){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);m.fillStyle="rgba(".concat(parseInt(b[1],16),", ").concat(parseInt(b[2],16),", ").concat(parseInt(b[3],16),", ").concat(null!=r?r:1,")")}var w="";s&&(w+="italic "),a&&(w+="bold "),w+="".concat(i,"px "),"string"==typeof o&&(w+=" ".concat(o.replace("/",""))),m.font=w;for(var x=0;x<e.length;x++){var S=e[x].x-t.x,k=e[x].y-t.y;m.fillText(e[x].content,S,k),u&&f(m,e[x].content,S,k),c&&d(m,e[x].content,S,k)}return p.toDataURL("image/png")}function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FF0000",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/Helvetica",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=Y(t,e,n,r,o,i,a,s),c=u.getBoundingClientRect(),l=$(u),f=Q(c,l,e,1,n,r,o,i,a,s);return X(u),{w:c.width,h:c.height,imageUrl:f}}function Z(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return M(e,{stroke:q(t.strokeColor),strokeWidth:t.strokeWidth,opacity:t.opacity}),e.appendChild(K(H(t.rectangles))),t.rectangles.forEach((function(t){e.appendChild(function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","line");return M(e,{x1:t.x,y1:t.y+t.height,x2:t.x+t.width,y2:t.y+t.height}),e}(t))})),e}function tt(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return M(e,{stroke:q(t.strokeColor),strokeWidth:t.strokeWidth,opacity:t.opacity}),e.appendChild(K(H(t.rectangles))),t.rectangles.forEach((function(t){e.appendChild(function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","line");return M(e,{x1:t.x,y1:t.y+t.height/2,x2:t.x+t.width,y2:t.y+t.height/2}),e}(t))})),e}function et(t){var e=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","circle");return M(e,{cx:t.cx,cy:t.cy,r:t.r}),e}(t),n=q(t.color||"#f00");return"circle"===t.type&&M(e,{stroke:n,fill:"none","stroke-width":5}),"emptycircle"===t.type&&M(e,{stroke:n,fill:"none","stroke-width":2}),"fillcircle"===t.type&&M(e,{stroke:n,fill:n,"stroke-width":5}),e}function nt(t,e,n){return[t[0],t[1],t[2],t[3],t[0]*e+t[2]*n+t[4],t[1]*e+t[3]*n+t[5]]}function rt(t,e){e=e*Math.PI/180;var n=Math.cos(e),r=Math.sin(e);return[t[0]*n+t[2]*r,t[1]*n+t[3]*r,t[0]*-r+t[2]*n,t[1]*-r+t[3]*n,t[4],t[5]]}function ot(t,e,n){return[t[0]*e,t[1]*e,t[2]*n,t[3]*n,t[4],t[5]]}function it(t,e,n){return{x:t,y:e,z:n}}function at(t,e,n){return{xcoord:t,ycoord:e,zcoord:n}}function st(t,e){return at(e.x-t.x,e.y-t.y,e.z-t.z)}function ut(t,e){return it(t.x+e.xcoord,t.y+e.ycoord,t.z+e.zcoord)}function ct(t,e){return at(t.xcoord*e,t.ycoord*e,t.zcoord*e)}function lt(t){return Math.sqrt(Math.pow(t.xcoord,2)+Math.pow(t.ycoord,2)+Math.pow(t.zcoord,2))}function ft(t){return ct(t,-1)}function dt(t){var e=lt(t);return at(t.xcoord/e,t.ycoord/e,t.zcoord/e)}function pt(t){var e,n,r=document.createElementNS("http://www.w3.org/2000/svg","polygon");if(2===t.lines.length){var o=t.lines[0],i=t.lines[t.lines.length-1],a=it(o[0],o[1],0),s=it(i[0],i[1],0),u=st(a,s),c=dt(u);u=st(a,s=ut(a,ct(c,40)));var l=at(0,0,1),f=dt((n=l,at((e=c).ycoord*n.zcoord-e.zcoord*n.ycoord,e.zcoord*n.xcoord-e.xcoord*n.zcoord,e.xcoord*n.ycoord-e.ycoord*n.xcoord))),d=t.width||10,p=ut(a,ct(f,.5*d)),h=ut(p,ct(c,lt(u)-2*d)),g=ut(h,ct(f,d)),v=s,y=ut(a,ct(ft(f),.5*d)),m=ut(y,ct(c,lt(u)-2*d)),b=ut(m,ct(ft(f),d));M(r,{points:p.x+","+p.y+" "+h.x+","+h.y+" "+g.x+","+g.y+" "+v.x+","+v.y+" "+b.x+","+b.y+" "+m.x+","+m.y+" "+y.x+","+y.y,stroke:q(t.color||"#000"),fill:q(t.color||"#000")})}return r}var ht=/firefox/i.test(navigator.userAgent);function gt(t){var e,n;switch(t.rotation%360){case 0:e=n=0;break;case 90:e=0,n=t.width/t.scale*-1;break;case 180:e=t.width/t.scale*-1,n=t.height/t.scale*-1;break;case 270:e=t.height/t.scale*-1,n=0}return{x:e,y:n}}function vt(t,e){var n=gt(e);if(t.setAttribute("transform","scale(".concat(e.scale,") rotate(").concat(e.rotation,") translate(").concat(n.x,", ").concat(n.y,")")),!ht&&"svg"===t.nodeName.toLowerCase()){t.setAttribute("x",parseInt(t.getAttribute("x"),10)*e.scale),t.setAttribute("y",parseInt(t.getAttribute("y"),10)*e.scale);var r=parseInt(t.getAttribute("x",10)),o=parseInt(t.getAttribute("y",10)),i=parseInt(t.getAttribute("width"),10),a=parseInt(t.getAttribute("height"),10),s=t.querySelector("#icon_sticker_0615"),u=s.parentNode;switch([t,u,s,t.querySelector("#icon_sticker_0615")].forEach((function(t){t.setAttribute("width",parseInt(t.getAttribute("width"),10)*e.scale),t.setAttribute("height",parseInt(t.getAttribute("height"),10)*e.scale)})),vt(s,Object.assign({},e,{scale:1})),e.rotation%360){case 90:t.setAttribute("x",e.width-o-i),t.setAttribute("y",r),u.setAttribute("x",1),u.setAttribute("y",0);break;case 180:t.setAttribute("x",e.width-r-i),t.setAttribute("y",e.height-o-a),u.setAttribute("y",2);break;case 270:t.setAttribute("x",o),t.setAttribute("y",e.height-r-a),u.setAttribute("x",-1),u.setAttribute("y",0)}}return t}function yt(t){var e,n,r=null;switch(t.type){case"area":e=t,M(n=document.createElementNS("http://www.w3.org/2000/svg","rect"),{x:e.x,y:e.y,width:e.width,height:e.height}),M(n,{fill:q(e.fillColor),opacity:e.opacity,stroke:q(e.strokeColor),strokeWidth:e.strokeWidth,strokeDasharray:e.strokeDasharray}),r=n;break;case"highlight":r=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return M(e,{fill:q(t.fillColor),opacity:.2}),t.rectangles.forEach((function(t){e.appendChild(J(t))})),e}(t);break;case"circle":case"fillcircle":case"emptycircle":r=et(t);break;case"line":r=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");if(M(e,{stroke:q(t.strokeColor),opacity:t.opacity,strokeWidth:t.strokeWidth,strokeDasharray:t.strokeDasharray}),2===t.lines.length){var n=document.createElementNS("http://www.w3.org/2000/svg","line"),r=t.lines[0],o=t.lines[t.lines.length-1];M(n,{x1:r[0],y1:r[1],x2:o[0],y2:o[1]}),e.appendChild(n)}return e}(t);break;case"strikeout":r=tt(t);break;case"underline":r=Z(t);break;case"point":r=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","rect"),o=document.createElementNS("http://www.w3.org/2000/svg","path"),i=document.createElementNS("http://www.w3.org/2000/svg","line"),a=document.createElementNS("http://www.w3.org/2000/svg","line"),s=document.createElementNS("http://www.w3.org/2000/svg","line"),u=document.createElementNS("http://www.w3.org/2000/svg","g"),c=document.createElementNS("http://www.w3.org/2000/svg","g");return M(e,{width:23,height:23,x:t.x,y:t.y}),M(n,{width:23,height:23,viewBox:"0 0 20 20"}),M(u,{id:"icon_sticker_0615",width:23,height:23,stroke:"none",strokeWidth:.7,fill:"none",fillRule:"evenodd"}),M(c,{id:"Group",stroke:"#000000"}),M(o,{id:"Combined-Shape",d:"M17,0.5 C17.6903559,0.5 18.3153559,0.779822031 18.767767,1.23223305 C19.220178,1.68464406 19.5,2.30964406 19.5,3 L19.5,3 L19.5,13.1428571 C19.5,13.8332131 19.220178,14.4582131 18.767767,14.9106241 C18.3153559,15.3630351 17.6903559,15.6428571 17,15.6428571 L17,15.6428571 L9.81936327,15.6428571 L5.85848236,18.9343848 L5.85848236,15.6428571 L3,15.6428571 C2.30964406,15.6428571 1.68464406,15.3630351 1.23223305,14.9106241 C0.779822031,14.4582131 0.5,13.8332131 0.5,13.1428571 L0.5,13.1428571 L0.5,3 C0.5,2.30964406 0.779822031,1.68464406 1.23223305,1.23223305 C1.68464406,0.779822031 2.30964406,0.5 3,0.5 L3,0.5 Z",fill:t.fillColor}),M(i,{id:"Line",x1:4,y1:4.5,x2:16,y2:4.5,strokeLinecap:"square"}),M(a,{id:"Line-Copy",x1:4,y1:8,x2:16,y2:8,strokeLinecap:"square"}),M(s,{id:"Line-Copy-2",x1:4,y1:11.5,x2:11,y2:11.5,strokeLinecap:"square"}),c.appendChild(o),c.appendChild(i),c.appendChild(a),c.appendChild(s),u.appendChild(c),n.appendChild(u),e.appendChild(r),e.appendChild(n),e}(t);break;case"textbox":r=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","image");M(e,{x:t.x,y:t.y,width:t.width,height:t.height,href:t.imageUrl,content:t.content,transform:"rotate(".concat(t.rotation,")"),style:"white-space: pre"});var n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.appendChild(e),n}(t);break;case"path":r=function(t){var e=[],n=document.createElementNS("http://www.w3.org/2000/svg","path"),r=W(t.lines,U.SmoothCurves);if(r.length>0){e.push("M".concat(r[0][0]," ").concat(r[0][1]));for(var o=1,i=r.length;o<i;o++){var a=r[o];r[o+1]&&e.push("L".concat(a[0]," ").concat(a[1]))}}return M(n,{d:"".concat(e.join(" ")),stroke:q(t.strokeColor),strokeWidth:t.strokeWidth,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"none",fill:"none",opacity:t.opacity}),n}(t);break;case"drawing":r=V(t);break;case"arrow":r=pt(t)}return r&&(r.setAttribute("data-pdf-annotate-id",t.uuid),r.setAttribute("aria-hidden",!0),Object.keys(t).filter((function(t){return-1===["color","x","y","cx","cy","color","documentId","lines","page","width","height","class","content","size","rotation","r","paths","strokeWidth","strokeColor","opacity","strokeDasharray","fillColor","rectangles","imageUrl"].indexOf(t)})).forEach((function(e){r.setAttribute("data-pdf-annotate-".concat(e),t[e])}))),r}function mt(t,e,n){n||(n=JSON.parse(t.getAttribute("data-pdf-annotate-viewport")));var r=yt(e);if(!r)throw new Error("주석엘리먼트를 추가 할수 없다.");return t.appendChild(vt(r,n)),r}function bt(t,e,n){n||(n=JSON.parse(t.getAttribute("data-pdf-annotate-viewport")));var r=t.querySelector('[data-pdf-annotate-id="'+e.uuid+'"]'),o=yt(e);if(!r||!o)throw new Error("주석엘리먼트를 교체 할수 없다.");return t.replaceChild(vt(o,n),r),o}function wt(t,e,n,r){r||(r=JSON.parse(t.getAttribute("data-pdf-annotate-viewport")));var o=yt(n);if(!e||!o)throw new Error("주석엘리먼트를 교체 할수 없다.");return t.insertBefore(vt(o,r),e),o}function xt(t,e,n){return n||(n=JSON.parse(t.getAttribute("data-pdf-annotate-viewport"))),e&&(e=vt(e,n)),e}function St(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ot=document.createElement("style");function Ct(t){for(var e=t;(e=e.parentNode)&&e!==document;)if("SVG"===e.nodeName.toUpperCase()&&"true"===e.getAttribute("data-pdf-annotate-container"))return e;return null}function At(t,e){for(var n=document.querySelectorAll('svg[data-pdf-annotate-container="true"]'),r=0,o=n.length;r<o;r++){var i=n[r];if(Et(t,e,i.getBoundingClientRect()))return i}return null}function Lt(t,e){var n=At(t,e);if(n){var r,o=St(n.querySelectorAll("[data-pdf-annotate-type]"));try{for(o.s();!(r=o.n()).done;){var i=r.value;if(Et(t,e,i.getBoundingClientRect()))return i}}catch(t){o.e(t)}finally{o.f()}return null}}function Et(t,e,n){return e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right}function Nt(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height,o=0,i=0;if(["line","path"].indexOf(t.tagName.toLowerCase())>-1&&t.getBBox){var a=t.getBBox();o=(e.width-a.width)/2,i=(e.height-a.height)/2,n=a.width,r=a.height}var s=function(t){var e=t;for(;(e=e.parentNode)&&e!==document&&"SVG"!==e.nodeName.toUpperCase(););var n=e.getBoundingClientRect();return{offsetLeft:n.left,offsetTop:n.top}}(t),u=s.offsetLeft,c=s.offsetTop;return{top:e.top-c+i,left:e.left-u+o,bottom:e.bottom-c-i,right:e.right-u-o,width:n,height:r}}function jt(t,e){var n={},r=Dt(t).viewport;return Object.keys(e).forEach((function(t){n[t]=e[t]*r.scale})),n}function Pt(t,e,n){var r=[t.x,t.y],o=[t.x+t.width,t.y+t.height];return r=Rt(r,e,n),o=Rt(o,e,n),{x:Math.min(r[0],o[0]),y:Math.min(r[1],o[1]),width:Math.abs(o[0]-r[0]),height:Math.abs(o[1]-r[1])}}function Rt(t,e,n){var r=[1,0,0,1,0,0];r=rt(r=ot(r,(n=n||Dt(e).viewport).scale,n.scale),n.rotation);var o,i,a,s=gt(n);return r=nt(r,s.x,s.y),o=t,a=(i=r)[0]*i[3]-i[1]*i[2],[(o[0]*i[3]-o[1]*i[2]+i[2]*i[5]-i[4]*i[3])/a,(-o[0]*i[1]+o[1]*i[0]+i[4]*i[1]-i[5]*i[0])/a]}function It(t,e,n){var r=[1,0,0,1,0,0];r=rt(r=ot(r,(n=n||Dt(e).viewport).scale,n.scale),n.rotation);var o,i,a=gt(n);return r=nt(r,a.x,a.y),i=r,[(o=t)[0]*i[0]+o[1]*i[2]+i[4],o[0]*i[1]+o[1]*i[3]+i[5]]}function Tt(t,e){var n={},r=Dt(t).viewport;return Object.keys(e).forEach((function(t){n[t]=e[t]/r.scale})),n}function _t(){Ot.parentNode||document.head.appendChild(Ot)}function Ft(){Ot.parentNode&&Ot.parentNode.removeChild(Ot)}function Dt(t){return{documentId:t.getAttribute("data-pdf-annotate-document"),pageNumber:parseInt(t.getAttribute("data-pdf-annotate-page"),10),viewport:JSON.parse(t.getAttribute("data-pdf-annotate-viewport"))}}function Mt(t,e,n,r){var o=mt(r,n);return a("annotation:addForm",t,e,n.uuid,{undo:{str:null},redo:{str:JSON.stringify(n)}}),o}function Bt(t,e,n,r){a("annotation:addChildForm",t,e,n,r)}function qt(t,e,n,r){a("annotation:modifyForm",t,e,n,r)}function Ut(t,e,n,r){a("annotation:removeForm",t,e,n,r)}Ot.innerHTML="\nbody {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",Ot.setAttribute("data-pdf-annotate-user-select","true");var zt={annotationLayerName:"annotationLayer",textLayerName:"textLayer",annotationSvgQuery:function(){return"svg."+this.annotationLayerName},annotationClassQuery:function(){return"."+this.annotationLayerName},textClassQuery:function(){return"."+this.textLayerName}};function Wt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ht,Jt,Kt,Yt;function Xt(t){var e=this,n=Ct(t).parentNode,r=t.getAttribute("data-pdf-annotate-id"),o=Nt(t);if(function(t){for(var e,n=Ct(t).parentNode,r=t.getAttribute("data-pdf-annotate-id"),o=n.querySelectorAll(".annotationLayer"),i=0;i<o.length;i++){var a=o[i].getAttribute("data-target-id");o[i].style.border="none",r==a&&(e=o[i])}if(e)return(Ht=e).style.border="".concat(2,"px solid ").concat("#2367FF"),!0;return!1}(t))return o;Ft(),(Ht=document.createElement("section")).className="annotationLayer",Ht.setAttribute("pinned",!1);var i=o.left-2,s=o.top-2;Ht.setAttribute("id","pdf-annotate-edit-overlay"),Ht.setAttribute("data-target-id",r),Ht.style.boxSizing="content-box",Ht.style.position="absolute",Ht.style.top="".concat(s,"px"),Ht.style.left="".concat(i,"px"),Ht.style.width="".concat(o.width,"px"),Ht.style.height="".concat(o.height,"px"),Ht.style.border="".concat(2,"px solid ").concat("#2367FF"),Ht.style.borderRadius="0",Ht.style.zIndex=20100;var u=Ht.getAttribute("data-target-id"),c=n.querySelector(zt.annotationSvgQuery()),l=Dt(c).documentId,f=Fo.getStoreAdapter().getComments(l,u),d=JSON.parse(c.getAttribute("data-pdf-annotate-viewport")),p=document.createElement("div");return p.className="popupWrapper",p.style.top="".concat(-5,"px"),p.style.left="".concat(o.width,"px"),f=f.then((function(t){var n,r=Wt(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.dataString;if(void 0!==i){var s=document.createElement("div");s.className="popup",s.style.transform="scale(".concat(d.scale,")"),s.style.left="".concat(8,"px");var c=document.createElement("div"),l=document.createElement("div");l.textContent=o.author,l.className="titleDiv",c.appendChild(l);var f=document.createElement("div");f.className="popupDateDiv";var h=document.createElement("span");h.className="popupDate";var g=new Date(i).toLocaleDateString();g=g.slice(0,-1),h.textContent=g,f.appendChild(h),c.appendChild(f),s.appendChild(c);var v=document.createElement("div");v.className="contentPopupDiv",v.setAttribute("contenteditable","true"),v.setAttribute("spellcheck","false"),v.onkeydown=function(t){13==t.keyCode&&(document.execCommand("insertLineBreak"),t.preventDefault())},v.addEventListener("click",(function(){Jt=!0,a("annotation:setStyleBarDisableState",!0),a("annotation:setAnnotationSidebarEnable",!1),a("annotation:setPopupEditingState",!0)})),v.addEventListener("blur",Gt.bind(e,u,o));var y=ne(o.content);v.appendChild(y),s.appendChild(v),p.appendChild(s)}}}catch(t){r.e(t)}finally{r.f()}})),Ht.appendChild(p),n.appendChild(Ht),Ht.addEventListener("mouseover",te.bind(this,!1)),Ht.addEventListener("mouseout",ee.bind(this,!1)),"point"==t.getAttribute("data-pdf-annotate-type")&&Ht.addEventListener("click",Zt.bind(this)),o}function $t(){return Ht}function Qt(){Ht&&Ht.parentNode&&(Ht.parentNode.removeChild(Ht),Ht=null),Ft()}function Gt(t,e,n){if(Jt){var r=n.currentTarget.innerText;if(Ht){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();var o=Dt(Ht.parentNode.querySelector(zt.annotationSvgQuery())),i=o.documentId,s=o.pageNumber,u=Fo.getStoreAdapter().getComments(i,t);u=u.then((function(e){var n,o=Wt(e);try{var u=function(){var e=n.value;Fo.getStoreAdapter().getAnnotation(i,t).then((function(t){var n=t.uuid,o={class:"Comment",documentId:i,annotation:n,uuid:e.uuid,content:r,dataString:e.dataString,author:e.author},u=JSON.stringify(e);Fo.getStoreAdapter().editAnnotation(i,e.uuid,o);var c,l,f,d=JSON.stringify(o);c=i,l=s,f=e.uuid,a("annotation:modifyComment",c,l,f,{undo:{str:u,targetId:n},redo:{str:d,targetId:n}})}))};for(o.s();!(n=o.n()).done;)u()}catch(t){o.e(t)}finally{o.f()}}))}Jt=!1}}function Zt(){Jt||("true"==Ht.getAttribute("pinned")?ee(!0):te(!0))}function te(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&Ht.setAttribute("pinned",!0),Ht&&Ht.querySelector("div .popupWrapper")&&Ht.querySelector("div .popupWrapper").hidden&&(Ht.querySelector("div .popupWrapper").hidden=!1)}function ee(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(t&&Ht.setAttribute("pinned",!1),Ht&&Ht.getAttribute("pinned")){var e="true"==Ht.getAttribute("pinned");Ht.querySelector("div .popupWrapper").hidden||e||(Ht.querySelector("div .popupWrapper").hidden=!0)}}function ne(t){var e=document.createElement("p");e.className="popupContent";for(var n=t.split(/(?:\r\n?|\n)/),r=0,o=n.length;r<o;++r){var i=n[r];e.appendChild(document.createTextNode(i)),r<o-1&&e.appendChild(document.createElement("br"))}return e}function re(t){var e;t?(e=t.getAttribute("data-pdf-annotate-id"),t.parentNode.getAttribute("data-pdf-annotate-page")):e=null;var n,r=ie();if(r&&r!=e){var o=oe();n=o,Ht&&("false"===Ht.getAttribute("pinned")?Qt():Ht.style.border="none"),Ft(),Kt=null,Yt=null,a("annotation:unSelected",n)}t&&function(t){var e=Xt(t);Yt=t.getAttribute("data-pdf-annotate-id"),Kt=t.parentNode.getAttribute("data-pdf-annotate-page"),a("annotation:selected",t,e)}(t)}function oe(){var t=null;if(Kt&&Yt){var e=document.querySelector('svg[data-pdf-annotate-page="'.concat(Kt,'"]'));e&&(t=e.querySelector('[data-pdf-annotate-id="'+Yt+'"]'))}return t}function ie(){return Yt}var ae,se,ue,ce,le=!1;function fe(t){if(t){var e="";return function(t){if(!t)return!1;var e=t.getAttribute("data-target-id"),n=document.querySelector('[data-pdf-annotate-id="'.concat(e,'"]')).getAttribute("data-pdf-annotate-type");return["area","point","drawing","line","textbox"].includes(n)}(t)&&(e="move"),t.style.cursor=e,e}}function de(t){if(At(t.clientX,t.clientY)){var e=Lt(t.clientX,t.clientY);if(e!=oe()&&re(e),null!=e&&(!t.target||null==t.target.className||-1===t.target.className.indexOf("popup")&&-1===t.target.className.indexOf("focus"))){var n=$t();"move"===fe(n)&&(!0,ae=t.clientX,se=t.clientY,ue=n.offsetLeft,ce=n.offsetTop,document.addEventListener("mousemove",pe),document.addEventListener("mouseup",he),_t())}}}function pe(t){var e=$t();if(e){var n=e.parentNode.getBoundingClientRect(),r=ce+(t.clientY-se),o=ue+(t.clientX-ae),i=n.height,a=n.width;r>0&&r+e.offsetHeight<i&&(e.style.top="".concat(r,"px")),o>0&&o+e.offsetWidth<a&&(e.style.left="".concat(o,"px"))}}function he(t){var e=$t();if(e){var n=e.getAttribute("data-target-id"),r=e.parentNode.querySelector(zt.annotationSvgQuery()),o=Dt(r).documentId,i=Rt([ue,ce],r),a=Rt([e.offsetLeft,e.offsetTop],r),s=a[0]-i[0],u=a[1]-i[1];if(setTimeout((function(){!1}),0),document.removeEventListener("mousemove",pe),document.removeEventListener("mouseup",he),Ft(),0===s&&0===u)return 0;var c=Fo.getStoreAdapter();c.getAnnotation(o,n).then((function(t){var e=JSON.stringify(t);switch(t.type){case"area":case"point":t.x+=s,t.y+=u;break;case"drawing":t.paths.forEach((function(t){for(var e=0;e<t.length;e++)t[e][0]=(Number(t[e][0])+s).toFixed(2),t[e][1]=(Number(t[e][1])+u).toFixed(2)}));break;case"line":t.lines[0][0]+=s,t.lines[0][1]+=u,t.lines[1][0]+=s,t.lines[1][1]+=u;break;case"textbox":t.x+=s,t.y+=u;break;default:return}var i=bt(r,t);c.editAnnotation(o,n,t);var a=JSON.stringify(t);qt(o,t.page,n,{undo:{str:e},redo:{str:a}}),re(i),fe($t())}))}}function ge(t){oe()&&t.preventDefault()}var ve,ye,me,be=!1,we=!1,xe=null,Se=null,ke=null,Oe=[];function Ce(t){me=null,Oe=[],we=!0,ke=At(t.clientX,t.clientY),t.preventDefault()}function Ae(t){!function(t,e){if(we=!1,Oe.length<=1)return;if(!ke)return;var n=Dt(ke),r=n.documentId,o=n.pageNumber,i=Fo.getStoreAdapter();if(xe){var a=ke.querySelector('[data-pdf-annotate-id="'+xe+'"]');if(a){me.parentNode.removeChild(me);for(var s=me.getAttribute("d");me.attributes.length>0;)me.removeAttribute(me.attributes[0].name);me.setAttribute("d",s),a.appendChild(me),i.getAnnotation(r,xe).then((function(t){var e=t.uuid,n=JSON.stringify(t);t.paths.push(Oe),i.editAnnotation(r,xe,t);var a=JSON.stringify(t);Bt(r,o,e,{undo:{str:n},redo:{str:a}})}))}else me.parentNode.removeChild(me)}else i.addAnnotation(r,o,{type:"drawing",strokeWidth:ve,strokeColor:ye,opacity:1,strokeDasharray:"none",paths:[Oe]}).then((function(t){xe=t.uuid,Se=t.page,me&&me.parentNode.removeChild(me),Mt(r,o,t,ke)}))}(t.clientX,t.clientY)}function Le(t){we&&function(t,e){if(!ke)return;var n=ke.getBoundingClientRect(),r=Rt([t-n.left,e-n.top],ke);if(r[0]=r[0].toFixed(2),r[1]=r[1].toFixed(2),Oe.push(r),Oe.length<=1)return;me&&me.parentNode.removeChild(me);me=mt(ke,{type:"path",strokeColor:ye,opacity:1,strokeWidth:ve,strokeDasharray:"none",lines:Oe})}(t.clientX,t.clientY)}function Ee(t){27===t.keyCode&&(Oe=null,me.parentNode.removeChild(me),document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",Ae))}var Ne,je,Pe,Re,Ie,Te,_e=!1;function Fe(t){var e=Lt(t.clientX,t.clientY);if(null!==e){var n=e.getAttribute("data-pdf-annotate-type");if("circle"===n||"fillcircle"===n||"emptycircle"===n){var r=Ct(e),o=Dt(r).documentId,i=e.getAttribute("data-pdf-annotate-id");Fo.getStoreAdapter().getAnnotation(o,i).then((function(t){if(t){Pe=null,Re=[];var e=It([t.cx,t.cy],r),n=r.getBoundingClientRect();Te=e[0]+n.left,Ie=e[1]+n.top,document.addEventListener("mousemove",Me),document.addEventListener("mouseup",De)}}))}}}function De(t){var e;if(Re.length>1&&(e=At(t.clientX,t.clientY))){var n=Dt(e),r=n.documentId,o=n.pageNumber;Fo.getStoreAdapter().addAnnotation(r,o,{type:"arrow",width:Ne,color:je,lines:Re}).then((function(t){Pe&&e.removeChild(Pe),mt(e,t)}))}document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",De)}function Me(t){!function(t,e){var n=At(t,e);if(!n)return;var r=n.getBoundingClientRect(),o=Rt([t-r.left,e-r.top],n);if(Re.length<2)return void Re.push(o);Re[1]=o;Pe&&n.removeChild(Pe);Pe=mt(n,{type:"arrow",color:je,width:Ne,lines:Re})}(0===Re.length?Te:t.clientX,0===Re.length?Ie:t.clientY)}function Be(t){27===t.keyCode&&(Re=null,Pe.parentNode.removeChild(Pe),document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",De))}function qe(t){return function(t){if(Array.isArray(t))return Ue(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ze=!1,We=null;function Ve(t){ze=!0,We=[t.clientX,t.clientY]}function He(t){ze=!1,Ke(Lt(t.clientX,t.clientY))}function Je(t){if(ze){var e=[],n=Math.abs(We[0]-t.clientX),r=Math.abs(We[1]-t.clientY);if(n>=1||r>=1)for(var o=Math.round(Math.max(n,r)),i=Math.min(n,r)/o,a=n<r,s=[Math.min(We[0],t.clientX),Math.min(We[1],t.clientY)],u=0;u<o;u++)a?e.push([Math.round(s[0]+i*u),Math.round(s[1]+u)]):e.push([Math.round(s[0]+u),Math.round(s[1]+i*u)]);for(var c=0,l=e;c<l.length;c++){var f=l[c];Ke(Lt(f[0],f[1]))}We=[t.clientX,t.clientY]}}function Ke(t){if(ze&&t){var e=Dt(t.parentElement).documentId,n=t.getAttribute("data-pdf-annotate-id");Fo.getStoreAdapter().deleteAnnotation(e,n).then((function(){qe(document.querySelectorAll('[data-pdf-annotate-id="'.concat(n,'"]'))).forEach((function(t){t.parentNode.removeChild(t)}))}))}}function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t){var e=function(t,e){if("object"!==Ye(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ye(e)?e:String(e)}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$e(r.key),r)}}function Ge(t,e,n){return e&&Qe(t.prototype,e),n&&Qe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tn(t,e){return(tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function en(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tn(t,e)}function nn(t,e){if(e&&("object"===Ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ze(t)}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function on(t,e,n){return(e=$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function an(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sn(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return an(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?un(Object(n),!0).forEach((function(e){on(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ln={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]}},fn=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xe(this,t),this.init(e,n)}return Ge(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||ln,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,cn(cn({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t(this.logger,e)}}]),t}()),dn=function(){function t(){Xe(this,t),this.observers={}}return Ge(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(this.observers[t]){var o=[].concat(this.observers[t]);o.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function pn(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function hn(t){return null==t?"":""+t}function gn(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function vn(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function o(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(o())return{};var a=r(i.shift());!t[a]&&n&&(t[a]=new n),t=Object.prototype.hasOwnProperty.call(t,a)?t[a]:{}}return o()?{}:{obj:t,k:r(i.shift())}}function yn(t,e,n){var r=vn(t,e,Object);r.obj[r.k]=n}function mn(t,e){var n=vn(t,e),r=n.obj,o=n.k;if(r)return r[o]}function bn(t,e,n){var r=mn(t,n);return void 0!==r?r:mn(e,n)}function wn(t,e,n){for(var r in e)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):wn(t[r],e[r],n):t[r]=e[r]);return t}function xn(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function kn(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return Sn[t]})):t}var On="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Cn=[" ",",","?","!",";"];function An(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),o=t,i=0;i<r.length;++i){if(!o)return;if("string"==typeof o[r[i]]&&i+1<r.length)return;if(void 0===o[r[i]]){for(var a=2,s=r.slice(i,i+a).join(n),u=o[s];void 0===u&&r.length>i+a;)a++,u=o[s=r.slice(i,i+a).join(n)];if(void 0===u)return;if(null===u)return null;if(e.endsWith(s)){if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s]}var c=r.slice(i+a).join(n);return c?An(u,c,n):void 0}o=o[r[i]]}return o}}function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){on(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rn(t);if(e){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nn(this,n)}}var jn=function(t){en(n,t);var e=Nn(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Xe(this,n),r=e.call(this),On&&dn.call(Ze(r)),r.data=t||{},r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return Ge(n,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[t,e];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(a=t.split("."));var s=mn(this.data,a);return s||!i||"string"!=typeof n?s:An(this.data&&this.data[t]&&this.data[t][e],n,o)}},{key:"addResource",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[t,e];n&&(a=a.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),yn(this.data,a,r),o.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(t,e,o,n[o],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var s=mn(this.data,a)||{};r?wn(s,n,o):s=En(En({},s),n),yn(this.data,a,s),i.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?En(En({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(dn),Pn={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,o){var i=this;return t.forEach((function(t){i.processors[t]&&(e=i.processors[t].process(e,n,r,o))})),e}};function Rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rn(Object(n),!0).forEach((function(e){on(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rn(t);if(e){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nn(this,n)}}var _n={},Fn=function(t){en(n,t);var e=Tn(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Xe(this,n),r=e.call(this),On&&dn.call(Ze(r)),gn(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,Ze(r)),r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=fn.create("translator"),r}return Ge(n,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,o=e.ns||this.options.defaultNS||[],i=n&&t.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,n){e=e||"",n=n||"";var r=Cn.filter((function(t){return e.indexOf(t)<0&&n.indexOf(t)<0}));if(0===r.length)return!0;var o=new RegExp("(".concat(r.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),i=!o.test(t);if(!i){var a=t.indexOf(n);a>0&&!o.test(t.substring(0,a))&&(i=!0)}return i}(t,n,r));if(i&&!a){var s=t.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:t,namespaces:o};var u=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(r)}return"string"==typeof o&&(o=[o]),{key:t,namespaces:o}}},{key:"translate",value:function(t,e,r){var o=this;if("object"!==Ye(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,a=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,s=this.extractFromKey(t[t.length-1],e),u=s.key,c=s.namespaces,l=c[c.length-1],f=e.lng||this.language,d=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var p=e.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(l).concat(p).concat(u),usedKey:u,exactUsedKey:u,usedLng:f,usedNS:l}:"".concat(l).concat(p).concat(u)}return i?{res:u,usedKey:u,exactUsedKey:u,usedLng:f,usedNS:l}:u}var h=this.resolve(t,e),g=h&&h.res,v=h&&h.usedKey||u,y=h&&h.exactUsedKey||u,m=Object.prototype.toString.apply(g),b=["[object Number]","[object Function]","[object RegExp]"],w=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,S="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(x&&g&&S&&b.indexOf(m)<0&&("string"!=typeof w||"[object Array]"!==m)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,In(In({},e),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return i?(h.res=k,h):k}if(a){var O="[object Array]"===m,C=O?[]:{},A=O?y:v;for(var L in g)if(Object.prototype.hasOwnProperty.call(g,L)){var E="".concat(A).concat(a).concat(L);C[L]=this.translate(E,In(In({},e),{joinArrays:!1,ns:c})),C[L]===E&&(C[L]=g[L])}g=C}}else if(x&&"string"==typeof w&&"[object Array]"===m)(g=g.join(w))&&(g=this.extendTranslation(g,t,e,r));else{var N=!1,j=!1,P=void 0!==e.count&&"string"!=typeof e.count,R=n.hasDefaultValue(e),I=P?this.pluralResolver.getSuffix(f,e.count,e):"",T=e["defaultValue".concat(I)]||e.defaultValue;!this.isValidLookup(g)&&R&&(N=!0,g=T),this.isValidLookup(g)||(j=!0,g=u);var _=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,F=_&&j?void 0:g,D=R&&T!==g&&this.options.updateMissing;if(j||N||D){if(this.logger.log(D?"updateKey":"missingKey",f,l,u,D?T:g),a){var M=this.resolve(u,In(In({},e),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var B=[],q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&q&&q[0])for(var U=0;U<q.length;U++)B.push(q[U]);else"all"===this.options.saveMissingTo?B=this.languageUtils.toResolveHierarchy(e.lng||this.language):B.push(e.lng||this.language);var z=function(t,n,r){var i=R&&r!==g?r:F;o.options.missingKeyHandler?o.options.missingKeyHandler(t,l,n,i,D,e):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(t,l,n,i,D,e),o.emit("missingKey",t,l,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?B.forEach((function(t){o.pluralResolver.getSuffixes(t,e).forEach((function(n){z([t],u+n,e["defaultValue".concat(n)]||T)}))})):z(B,u,T))}g=this.extendTranslation(g,t,e,h,r),j&&g===u&&this.options.appendNamespaceToMissingKey&&(g="".concat(l,":").concat(u)),(j||N)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(u):u,N?g:void 0):this.options.parseMissingKeyHandler(g))}return i?(h.res=g,h):g}},{key:"extendTranslation",value:function(t,e,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,In(In({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(In(In({},n),{interpolation:In(In({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof t&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=t.match(this.interpolator.nestingRegexp);a=u&&u.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=In(In({},this.options.interpolation.defaultVariables),c)),t=this.interpolator.interpolate(t,c,n.lng||this.language,n),s){var l=t.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(e[0])),null):i.translate.apply(i,r.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"==typeof f?[f]:f;return null!=t&&d&&d.length&&!1!==n.applyPostProcessor&&(t=Pn.handle(d,t,e,this.options&&this.options.postProcessPassResolved?In({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,o,i,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var u=a.extractFromKey(t,s),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,d=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(t){a.isValidLookup(e)||(i=t,!_n["".concat(h[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(_n["".concat(h[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!a.isValidLookup(e)){o=n;var i,u=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(u,c,n,t,s);else{var l;f&&(l=a.pluralResolver.getSuffix(n,s.count,s));var h="".concat(a.options.pluralSeparator,"zero");if(f&&(u.push(c+l),d&&u.push(c+h)),p){var g="".concat(c).concat(a.options.contextSeparator).concat(s.context);u.push(g),f&&(u.push(g+l),d&&u.push(g+h))}}for(;i=u.pop();)a.isValidLookup(e)||(r=i,e=a.getResource(n,t,i,s))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}],[{key:"hasDefaultValue",value:function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"defaultValue"===e.substring(0,"defaultValue".length)&&void 0!==t[e])return!0;return!1}}]),n}(dn);function Dn(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Mn=function(){function t(e){Xe(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fn.create("languageUtils")}return Ge(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Dn(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Dn(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=Dn(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var r=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(r)||(e=r)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var r=n.getLanguagePartFromCode(t);if(n.isSupportedCode(r))return e=r;e=n.options.supportedLngs.find((function(t){return t===r?t:t.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===t.indexOf(r)?t:void 0}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),o=[],i=function(t){t&&(n.isSupportedCode(t)?o.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),r.forEach((function(t){o.indexOf(t)<0&&i(n.formatLanguageCode(t))})),o}}]),t}(),Bn=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],qn={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},Un=["v1","v2","v3"],zn={zero:0,one:1,two:2,few:3,many:4,other:5};function Wn(){var t={};return Bn.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:qn[e.fc]}}))})),t}var Vn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xe(this,t),this.languageUtils=e,this.options=n,this.logger=fn.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Wn()}return Ge(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,e);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(t,e){return zn[t]-zn[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):r.numbers.map((function(r){return e.getSuffix(t,r,n)})):[]}},{key:"getSuffix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(t,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(e)):this.getSuffixRetroCompatible(r,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var n=this,r=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),o=t.numbers[r];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var i=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Un.includes(this.options.compatibilityJSON)}}]),t}();function Hn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hn(Object(n),!0).forEach((function(e){on(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=bn(t,e,n);return!i&&o&&"string"==typeof n&&void 0===(i=An(t,n,r))&&(i=An(e,n,r)),i}var Yn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xe(this,t),this.logger=fn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return Ge(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:kn,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?xn(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?xn(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?xn(e.nestingPrefix):e.nestingPrefixEscaped||xn("$t("),this.nestingSuffix=e.nestingSuffix?xn(e.nestingSuffix):e.nestingSuffixEscaped||xn(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var o,i,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(t){return t.replace(/\$/g,"$$$$")}var l=function(t){if(t.indexOf(s.formatSeparator)<0){var o=Kn(e,u,t,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(o,void 0,n,Jn(Jn(Jn({},r),e),{},{interpolationkey:t})):o}var i=t.split(s.formatSeparator),a=i.shift().trim(),c=i.join(s.formatSeparator).trim();return s.format(Kn(e,u,a,s.options.keySeparator,s.options.ignoreJSONStructure),c,n,Jn(Jn(Jn({},r),e),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return c(t)}},{regex:this.regexp,safeValue:function(t){return s.escapeValue?c(s.escape(t)):c(t)}}].forEach((function(e){for(a=0;o=e.regex.exec(t);){var n=o[1].trim();if(void 0===(i=l(n)))if("function"==typeof f){var u=f(t,o,r);i="string"==typeof u?u:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(d){i=o[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(t)),i=""}else"string"==typeof i||s.useRawValueToEscape||(i=hn(i));var c=e.safeValue(i);if(t=t.replace(o[0],c),d?(e.regex.lastIndex+=i.length,e.regex.lastIndex-=o[0].length):e.regex.lastIndex=0,++a>=s.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,r,o,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);t=r[0];var a=(i=this.interpolate(i,o)).match(/'/g),s=i.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),e&&(o=Jn(Jn({},e),o))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(i)}return delete o.defaultValue,t}for(;n=this.nestingRegexp.exec(t);){var u=[];(o=(o=Jn({},a)).replace&&"string"!=typeof o.replace?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=l.shift(),u=l,c=!0}if((r=e(s.call(this,n[1].trim(),o),o))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=hn(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),c&&(r=u.reduce((function(t,e){return i.format(t,e,a.lng,Jn(Jn({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}();function Xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xn(Object(n),!0).forEach((function(e){on(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qn(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var o=r[1].substring(0,r[1].length-1);if("currency"===e&&o.indexOf(":")<0)n.currency||(n.currency=o.trim());else if("relativetime"===e&&o.indexOf(":")<0)n.range||(n.range=o.trim());else{o.split(";").forEach((function(t){if(t){var e=sn(t.split(":")),r=e[0],o=e.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=o),"false"===o&&(n[r.trim()]=!1),"true"===o&&(n[r.trim()]=!0),isNaN(o)||(n[r.trim()]=parseInt(o,10))}}))}}return{formatName:e,formatOptions:n}}function Gn(t){var e={};return function(n,r,o){var i=r+JSON.stringify(o),a=e[i];return a||(a=t(r,o),e[i]=a),a(n)}}var Zn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xe(this,t),this.logger=fn.create("formatter"),this.options=e,this.formats={number:Gn((function(t,e){var n=new Intl.NumberFormat(t,$n({},e));return function(t){return n.format(t)}})),currency:Gn((function(t,e){var n=new Intl.NumberFormat(t,$n($n({},e),{},{style:"currency"}));return function(t){return n.format(t)}})),datetime:Gn((function(t,e){var n=new Intl.DateTimeFormat(t,$n({},e));return function(t){return n.format(t)}})),relativetime:Gn((function(t,e){var n=new Intl.RelativeTimeFormat(t,$n({},e));return function(t){return n.format(t,e.range||"day")}})),list:Gn((function(t,e){var n=new Intl.ListFormat(t,$n({},e));return function(t){return n.format(t)}}))},this.init(e)}return Ge(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=e.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"addCached",value:function(t,e){this.formats[t.toLowerCase().trim()]=Gn(e)}},{key:"format",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.split(this.formatSeparator),a=i.reduce((function(t,e){var i=Qn(e),a=i.formatName,s=i.formatOptions;if(r.formats[a]){var u=t;try{var c=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},l=c.locale||c.lng||o.locale||o.lng||n;u=r.formats[a](t,l,$n($n($n({},s),o),c))}catch(t){r.logger.warn(t)}return u}return r.logger.warn("there was no format function for ".concat(a)),t}),t);return a}}]),t}();function tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(n),!0).forEach((function(e){on(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rn(t);if(e){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nn(this,n)}}var rr=function(t){en(n,t);var e=nr(n);function n(t,r,o){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Xe(this,n),i=e.call(this),On&&dn.call(Ze(i)),i.backend=t,i.store=r,i.services=o,i.languageUtils=o.languageUtils,i.options=a,i.logger=fn.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=a.maxParallelReads||10,i.readingCalls=0,i.maxRetries=a.maxRetries>=0?a.maxRetries:5,i.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(o,a.backend,a),i}return Ge(n,[{key:"queueLoad",value:function(t,e,n,r){var o=this,i={},a={},s={},u={};return t.forEach((function(t){var r=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!n.reload&&o.store.hasResourceBundle(t,e)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===u[e]&&(u[e]=!0)))})),r||(s[t]=!0)})),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(t,e,n){var r=t.split("|"),o=r[0],i=r[1];e&&this.emit("failedLoading",o,i,e),n&&this.store.addResourceBundle(o,i,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){var r,s,u,c,l,f;r=n.loaded,s=i,c=vn(r,[o],Object),l=c.obj,f=c.k,l[f]=l[f]||[],u&&(l[f]=l[f].concat(s)),u||l[f].push(s),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(n,t),e&&n.errors.push(e),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]={});var e=n.loaded[t];e.length&&e.forEach((function(e){void 0===a[t][e]&&(a[t][e]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:t,ns:e,fcName:n,tried:o,wait:i,callback:a});else{this.readingCalls++;var s=function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&u&&o<r.maxRetries?setTimeout((function(){r.read.call(r,t,e,n,o+1,2*i,a)}),i):a(s,u)},u=this.backend[n].bind(this.backend);if(2!==u.length)return u(t,e,s);try{var c=u(t,e);c&&"function"==typeof c.then?c.then((function(t){return s(null,t)})).catch(s):s(null,c)}catch(t){s(t)}}}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var i=this.queueLoad(t,e,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(function(r,a){r&&e.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&e.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),e.loaded(t,r,a)}))}},{key:"saveMissing",value:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var s=er(er({},i),{},{isUpdate:o}),u=this.backend.create.bind(this.backend);if(u.length<6)try{var c;(c=5===u.length?u(t,e,n,r,s):u(t,e,n,r))&&"function"==typeof c.then?c.then((function(t){return a(null,t)})).catch(a):a(null,c)}catch(t){a(t)}else u(t,e,n,r,a,s)}t&&t[0]&&this.store.addResource(t[0],e,n,r)}}}]),n}(dn);function or(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===Ye(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===Ye(t[2])||"object"===Ye(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ir(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ar(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ar(Object(n),!0).forEach((function(e){on(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ur(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rn(t);if(e){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nn(this,n)}}function cr(){}function lr(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}))}var fr=function(t){en(n,t);var e=ur(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(Xe(this,n),t=e.call(this),On&&dn.call(Ze(t)),t.options=ir(r),t.services={},t.logger=fn,t.modules={external:[]},lr(Ze(t)),o&&!t.isInitialized&&!r.isClone){if(!t.options.initImmediate)return t.init(r,o),nn(t,Ze(t));setTimeout((function(){t.init(r,o)}),0)}return t}return Ge(n,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var r=or();function o(t){return t?"function"==typeof t?new t:t:null}if(this.options=sr(sr(sr({},r),this.options),ir(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=sr(sr({},r.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var i;this.modules.logger?fn.init(o(this.modules.logger),this.options):fn.init(null,this.options),this.modules.formatter?i=this.modules.formatter:"undefined"!=typeof Intl&&(i=Zn);var a=new Mn(this.options);this.store=new jn(this.options.resources,this.options);var s=this.services;s.logger=fn,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new Vn(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!i||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=o(i),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Yn(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new rr(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Fn(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,n||(n=cr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var f=pn(),d=function(){var e=function(e,r){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),f.resolve(r),n(e,r)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),f}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr,r=n,o="string"==typeof t?t:this.language;if("function"==typeof t&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return r();var i=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){i.indexOf(t)<0&&i.push(t)}))};if(o)a(o);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(t){return a(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return a(t)})),this.services.backendConnector.load(i,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),r(t)}))}else r(null)}},{key:"reloadResources",value:function(t,e,n){var r=pn();return t||(t=this.languages),e||(e=this.options.ns),n||(n=cr),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&Pn.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=pn();this.emit("languageChanging",t);var o=function(t){n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.resolvedLanguage=void 0,n.setResolvedLanguage(t)},i=function(i){t||i||!n.services.languageDetector||(i=[]);var a="string"==typeof i?i:n.services.languageUtils.getBestMatchFromCodes(i);a&&(n.language||o(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(t){!function(t,i){i?(o(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,a)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e,n){var r=this,o=function t(e,o){var i;if("object"!==Ye(o)){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];i=r.options.overloadTranslationOptionHandler([e,o].concat(s))}else i=sr({},o);i.lng=i.lng||t.lng,i.lngs=i.lngs||t.lngs,i.ns=i.ns||t.ns,i.keyPrefix=i.keyPrefix||n||t.keyPrefix;var c,l=r.options.keySeparator||".";return c=i.keyPrefix&&Array.isArray(e)?e.map((function(t){return"".concat(i.keyPrefix).concat(l).concat(t)})):i.keyPrefix?"".concat(i.keyPrefix).concat(l).concat(e):e,r.t(c,i)};return"string"==typeof t?o.lng=t:o.lngs=t,o.ns=e,o.keyPrefix=n,o}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,t)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,t)||o&&!a(i,t)))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=pn();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=pn();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],o=t.filter((function(t){return r.indexOf(t)<0}));return o.length?(this.options.preload=r.concat(o),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";var e=this.services&&this.services.languageUtils||new Mn(or());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(e.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr,o=sr(sr(sr({},this.options),e),{isClone:!0}),i=new n(o);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));var a=["store","services","language"];return a.forEach((function(e){i[e]=t[e]})),i.services=sr({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new Fn(i.services,i.options),i.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))})),i.init(o,r),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(dn);on(fr,"createInstance",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new fr(t,e)}));var dr=fr.createInstance();dr.createInstance=fr.createInstance;dr.createInstance,dr.dir,dr.init,dr.loadResources,dr.reloadResources,dr.use,dr.changeLanguage,dr.getFixedT,dr.t,dr.exists,dr.setDefaultNamespace,dr.hasLoadedNamespace,dr.loadNamespaces,dr.loadLanguages;dr.init({lng:"ko",debug:!0,resources:{de:{translation:{ClickToAddText:"Text durch Klick hinzufügen"}},es:{translation:{ClickToAddText:"Haga clic para agregar texto"}},es_us:{translation:{ClickToAddText:"Hacer clic para agregar texto"}},fr:{translation:{ClickToAddText:"Cliquez pour ajouter du texte"}},it:{translation:{ClickToAddText:"Fare clic per aggiungere il testo"}},ja:{translation:{ClickToAddText:"クリックしてテキストを追加"}},ko:{translation:{ClickToAddText:"내용을 입력하십시오"}},nl:{translation:{ClickToAddText:"Klik hier om tekst toe te voegen"}},pt:{translation:{ClickToAddText:"Clique para adicionar texto"}},en:{translation:{ClickToAddText:"Click to add text"}},ru:{translation:{ClickToAddText:"Текст слайда"}},th:{translation:{ClickToAddText:"คลิกเพื่อเพิ่มข้อความ"}},zh_cn:{translation:{ClickToAddText:"单击此处添加文本"}},zh_tw:{translation:{ClickToAddText:"按一下以新增文字"}}}},(function(t,e){}));var pr,hr={ClickToAddText:dr.t("ClickToAddText")},gr=!1;function vr(t){var e=At(t.clientX,t.clientY);if(!pr&&e){var n=1;if(e)n=Dt(e).viewport.scale;(pr=document.createElement("input")).setAttribute("id","pdf-annotate-point-input"),pr.setAttribute("placeholder",hr.ClickToAddText),pr.style.border="3px solid ".concat("#2367FF"),pr.style.borderRadius="3px",pr.style.position="absolute",pr.style.top="".concat(t.clientY,"px"),pr.style.left="".concat(t.clientX,"px"),pr.style.fontSize="".concat(Math.floor(10*n),"px"),pr.addEventListener("blur",yr),pr.addEventListener("keyup",mr),document.body.appendChild(pr),pr.focus()}}function yr(){br()}function mr(t){27===t.keyCode?wr():13===t.keyCode&&br()}function br(){if(pr.value.trim().length>0){var t=parseInt(pr.style.left,10),e=parseInt(pr.style.top,10),n=pr.value.trim(),r=At(t,e);if(!r)return;var o=new Date,i=r.getBoundingClientRect(),s=Dt(r),u=s.documentId,c=s.pageNumber,l=Object.assign({type:"point",fillColor:"#FFFF00",opacity:1,strokeColor:"#000000",strokeWidth:1,strokeDasharray:"none"},Tt(r,{x:t-i.left,y:e-i.top}));Fo.getStoreAdapter().addAnnotation(u,c,l).then((function(t){!function(t,e,n,r,o){a("annotation:addComment",t,e,n,r,o)}(u,t.uuid,n,o,"Guest"),re(Mt(u,c,t,r))}))}wr()}function wr(){pr.removeEventListener("blur",yr),pr.removeEventListener("keyup",mr),document.body.removeChild(pr),pr=null}function xr(t){return function(t){if(Array.isArray(t))return Sr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Sr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kr,Or,Cr,Ar,Lr,Er,Nr=!1;function jr(t){var e;if("area"===kr&&(e=At(t.clientX,t.clientY))){var n=e.getBoundingClientRect();Cr=t.clientY,Ar=t.clientX,(Or=document.createElement("div")).style.position="absolute",Or.style.top="".concat(Cr-n.top,"px"),Or.style.left="".concat(Ar-n.left,"px"),Or.style.border="3px solid ".concat("#2367FF"),Or.style.borderRadius="3px",e.parentNode.appendChild(Or),document.addEventListener("mousemove",Pr),_t()}}function Pr(t){var e=Or.parentNode.querySelector(zt.annotationSvgQuery()).getBoundingClientRect(),n=Math.max(Math.min(Ar,t.clientX),e.left),r=Math.max(Math.min(Cr,t.clientY),e.top),o=Math.min(Math.max(Ar,t.clientX),e.right),i=Math.min(Math.max(Cr,t.clientY),e.bottom);Or.style.left="".concat(n-e.left,"px"),Or.style.width="".concat(o-n,"px"),Or.style.top="".concat(r-e.top,"px"),Or.style.height="".concat(i-r,"px")}function Rr(t){var e;if("area"!==kr&&(e=function(){try{var t=window.getSelection().getRangeAt(0).getClientRects();if(t.length>0&&t[0].width>0&&t[0].height>0)return t}catch(t){}return null}()))Tr(kr,xr(e).map((function(t){return{top:t.top,left:t.left,width:t.width,height:t.height}})));else if("area"===kr&&Or){var n=Or.parentNode.querySelector(zt.annotationSvgQuery()),r=n.getBoundingClientRect();Tr(kr,[{top:parseInt(Or.style.top,10)+r.top,left:parseInt(Or.style.left,10)+r.left,width:parseInt(Or.style.width,10),height:parseInt(Or.style.height,10)}]),n.parentNode.removeChild(Or),Or=null,document.removeEventListener("mousemove",Pr),Ft()}}function Ir(t){27===t.keyCode&&(window.getSelection().removeAllRanges(),Or&&Or.parentNode&&(svg.parentNode.removeChild(Or),Or=null,document.removeEventListener("mousemove",Pr)))}function Tr(t,e,n,r){var o,i=At(e[0].left,e[0].top);if(i){var a=i.getBoundingClientRect();if(n&&r||("highlight"===t?(n="#FFFF00",Lr=.2):"strikeout"===t?(n="none",r="#FF0000",Lr=1,Er=1):"underline"===t&&(n="none",r="#6AD926",Lr=1,Er=1)),0!==(o={type:t,fillColor:n,strokeColor:r,opacity:Lr,strokeWidth:Er,rectangles:xr(e).map((function(t){return Pt({y:t.top+0-a.top,x:t.left-a.left,width:t.width,height:t.height},i)})).filter((function(t){return t.width>0&&t.height>0&&t.x>-1&&t.y>-1}))}).rectangles.length){if("area"===t){var s=o.rectangles[0];delete o.rectangles,o.x=s.x,o.y=s.y,o.width=s.width,o.height=s.height,o.fillColor="none",o.opacity=1,o.strokeColor="#FF0000",o.strokeWidth=1,o.strokeDasharray="none"}else{var u=Pt(a,i);o.rectangles=function(t,e){for(var n=[],r=[],o=0;o<t.length&&o+1!=t.length;o++)i=t[o+1],a=t[o],i.x<=a.x&&a.x<=i.x+i.width&&i.y<=a.y&&a.y<=i.y+i.height&&0!=o&&r.push(o);var i,a;for(var s=0;s<t.length;s++)r.includes(s)||t[s].x<=e.width&&t[s].y<=e.height&&n.push(t[s]);return n}(o.rectangles,u)}var c=Dt(i),l=c.documentId,f=c.pageNumber;Fo.getStoreAdapter().addAnnotation(l,f,o).then((function(t){re(Mt(l,f,t,i))}))}}}var _r,Fr=!1,Dr=10,Mr="0000FF";function Br(t){var e=At(t.clientX,t.clientY);if(e){var n=e.getBoundingClientRect();!function(t,e,n,r,o){var i=Rt([n.x,n.y],t),a={type:e,color:o,cx:i[0],cy:i[1],r:r},s=Dt(t),u=s.documentId,c=s.pageNumber;Fo.getStoreAdapter().addAnnotation(u,c,a).then((function(e){mt(t,e)}))}(e,_r,{x:t.clientX-n.left,y:t.clientY-n.top},Dr,Mr)}}var qr,Ur,zr,Wr,Vr,Hr,Jr=!1,Kr=null;function Yr(t){var e=At(t.clientX,t.clientY);if(!Kr&&e){var n=Dt(e),r=n.viewport,o=n.pageNumber,i=r.scale,s=document.querySelector('div.page[data-page-number="'.concat(o,'"]'));if(s){a("annotation:setStyleBarDisableState",!0),(Kr=document.createElement("div")).setAttribute("id","pdf-annotate-text-input"),Kr.setAttribute("default-content",hr.ClickToAddText),Kr.style.border="".concat(3,"px solid ").concat("#2367FF"),Kr.style.borderRadius="3px",Kr.contentEditable="true",Kr.style.color=Ur,Kr.style.fontSize="".concat(Math.floor(Math.floor(qr*(96/72))*i),"px"),Kr.style.fontFamily="Helvetica",Kr.style.fontStyle=Wr,Kr.style.fontWeight=zr,Kr.style.textDecoration=Vr&&Hr?"underline line-through":Vr?"underline":Hr?"line-through":"none";var u=getComputedStyle(s),c=parseFloat(u.paddingLeft),l=parseFloat(u.paddingTop),f=parseFloat(u.borderLeftWidth),d=parseFloat(u.borderTopWidth),p=s.getBoundingClientRect(),h=t.clientX-p.left-c-f,g=t.clientY-p.top-l-d;Kr.style.position="absolute",Kr.style.padding="0",Kr.style.margin="0",Kr.style.left="".concat(h,"px"),Kr.style.top="".concat(g,"px"),Kr.style.overflow="visible",Kr.style.whiteSpace="nowrap",Kr.style.zIndex="41",Kr.addEventListener("blur",Xr),Kr.addEventListener("keyup",$r),s.appendChild(Kr),Kr.focus()}}}function Xr(){Zr()?Gr():Qr()}function $r(t){27===t.keyCode&&(Zr()?Gr():Qr())}function Qr(){var t=Kr.getBoundingClientRect(),e=At(t.x,t.y);if(e){var n,r=e.getBoundingClientRect(),o=Dt(e),i=o.documentId,a=o.pageNumber,s=o.viewport,u=parseInt(Kr.style.fontSize),c=Kr.getElementsByTagName("div");if(0===c.length)n=Kr.innerText;else{var l=Kr.firstChild;"#text"===(null==l?void 0:l.nodeName)&&(n=l.data);for(var f=0;f<c.length;f++){var d=c[f].firstChild;"#text"===(null==d?void 0:d.nodeName)&&(n+="\n"+d.data)}}var p=JSON.parse(JSON.stringify(t));p.x=t.left-r.left+3,p.y=t.top-r.top+3,p.width-=6,p.height-=6,p=Pt(p,e,s);var h=G(n,Ur,"Helvetica",u,"bold"===zr,"italic"===Wr,Vr,Hr),g=1/s.scale,v={type:"textbox",x:p.x,y:p.y,width:p.width,height:p.height,imageUrl:h.imageUrl,fontFamily:"Helvetica",fontSize:qr,scale:g,fontColor:Ur,fontStyle:Wr,fontWeight:zr,textDecoration:{underline:Vr,linethrough:Hr},content:n,rotation:-s.rotation};Fo.getStoreAdapter().addAnnotation(i,a,v).then((function(t){re(Mt(i,a,t,e))})),Gr()}}function Gr(){Kr&&(Kr.removeEventListener("blur",Xr),Kr.removeEventListener("keyup",$r),Kr.parentNode.removeChild(Kr),Kr=null)}function Zr(){if(null==Kr)return!0;var t=Kr.getElementsByTagName("div"),e=null;if(0===t.length)e=Kr.innerText;else{var n=Kr.firstChild;"#text"===(null==n?void 0:n.nodeName)&&(e=n.data);for(var r=0;r<t.length;r++){var o=t[r].firstChild;"#text"===(null==o?void 0:o.nodeName)&&(e+="\n"+o.data)}}return!e||""===e}function to(t,e){var n=document.createElement("div"),r=document.createTextNode(t);return n.appendChild(r),n.setAttribute("id","pdf-annotate-screenreader-".concat(e)),n.style.position="absolute",n.style.left="-10000px",n.style.top="auto",n.style.width="1px",n.style.height="1px",n.style.overflow="hidden",n}function eo(t){return function(t){if(Array.isArray(t))return no(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return no(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return no(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ro(t,e,n,r,o){var i=function(t,e,n){var r=document.querySelector('svg[data-pdf-annotate-page="'.concat(n,'"]')),o=r.getBoundingClientRect();return e=jt(r,{y:e}).y+o.top,t=jt(r,{x:t}).x+o.left,eo(r.parentNode.querySelectorAll(zt.textClassQuery()+" [data-canvas-width]")).filter((function(n){return Et(t,e,n.getBoundingClientRect())}))[0]}(e=Math.max(e+2*(o?1:-1),0),n+2,r);if(!i)return!1;e+=2*(o?-1:1);var a=document.querySelector('svg[data-pdf-annotate-page="'.concat(r,'"]')),s=Tt(a,{left:i.getBoundingClientRect().left}).left-a.getBoundingClientRect().left,u=i.cloneNode(!0),c=u.innerHTML.split(""),l=[];for(u.style.position="absolute",u.style.top="-10000px",u.style.left="-10000px",document.body.appendChild(u);c.length;){if(">"===c[c.length-1])for(;c.length&&(l.unshift(c.pop()),"<"!==l[0]););if(u.innerHTML=c.join(""),s+Tt(a,{width:u.getBoundingClientRect().width}).width<=e)break;l.unshift(c.pop())}return i.innerHTML=c.join("")+t.outerHTML+l.join(""),u.parentNode.removeChild(u),!0}function oo(t){return function(t){if(Array.isArray(t))return io(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return io(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return io(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ao(t,e,n,r){if(ro(t,e,n,r,!0))return!0;var o=document.querySelector('svg[data-pdf-annotate-page="'.concat(r,'"]')),i=o.getBoundingClientRect(),a=oo(o.parentNode.querySelectorAll(zt.textClassQuery()+" > div"));n=jt(o,{y:n}).y+i.top,e=jt(o,{x:e}).x+i.left;for(var s=0,u=a.length;s<u;s++){var c=a[s];if(n<=c.getBoundingClientRect().top)return c.parentNode.insertBefore(t,c),!0}var l=o.parentNode.querySelector(zt.textClassQuery());if(l&&Et(e,n,l.getBoundingClientRect()))return l.appendChild(t),!0;return!1}function so(t){if(t){var e=document.querySelector("#pdf-annotate-screenreader-".concat(t.annotation," ol"));if(e){var n=document.createElement("li");n.setAttribute("id","pdf-annotate-screenreader-comment-".concat(t.uuid)),n.appendChild(document.createTextNode("".concat(t.content))),e.appendChild(n)}}}function uo(t,e,n){return(Array.isArray(n)?Promise.resolve(n):Fo.getStoreAdapter().getComments(t,e)).then((function(t){var n=document.getElementById("pdf-annotate-screenreader-".concat(e));if(n){var r=document.createElement("ol");r.setAttribute("id","pdf-annotate-screenreader-comment-list-".concat(e)),r.setAttribute("aria-label","Comments"),n.appendChild(r),t.forEach(so)}}))}var co=["highlight","point","area","circle","emptycircle","fillcircle"];function lo(t,e,n){Fo.getStoreAdapter().getAnnotations(t,e).then((function(t){return t.annotations.filter((function(t){return t.type===n}))})).then((function(e){return e.forEach((function(e){fo(t,e.uuid)})),e})).then(vo)}function fo(t,e){go("pdf-annotate-screenreader-".concat(e)),go("pdf-annotate-screenreader-".concat(e,"-end"))}function po(t,e,n,r,o){var i=document.querySelector("pdf-annotate-screenreader-comment-list-".concat(e));(i?Promise.resolve(!0):uo(t,e,[]).then((function(){return i=document.querySelector("pdf-annotate-screenreader-comment-list-".concat(e)),!0}))).then((function(){so(n)}))}function ho(t,e){go("pdf-annotate-screenreader-comment-".concat(e))}function go(t){var e=document.getElementById(t);e&&e.parentNode.removeChild(e)}function vo(t){t=Array.isArray(t)?t:[],Object.keys(bo).forEach((function(e){var n=bo[e];t.filter((function(t){return t.type===e})).sort(n).forEach((function(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(t.type){case"highlight":case"strikeout":var n=t.rectangles,r=n[0],o=n[n.length-1];ro(to("Begin ".concat(t.type," annotation ").concat(e),t.uuid),r.x,r.y,t.page,!0),ro(to("End ".concat(t.type," annotation ").concat(e),"".concat(t.uuid,"-end")),o.x+o.width,o.y,t.page,!1);break;case"textbox":case"point":var i="textbox"===t.type?" (content: ".concat(t.content,")"):"";ao(to("".concat(t.type," annotation ").concat(e).concat(i),t.uuid),t.x,t.y,t.page);break;case"drawing":break;case"path":case"area":var a=void 0!==t.x?t.x:t.lines[0][0],s=void 0!==t.y?t.y:t.lines[0][1];ao(to("Unlabeled drawing",t.uuid),a,s,t.page);break;case"circle":case"fillcircle":case"emptycircle":var u=void 0!==t.cx?t.cx:t.lines[0][0],c=void 0!==t.cy?t.cy:t.lines[0][1];ao(to("Unlabeled drawing",t.uuid),u,c,t.page)}co.includes(t.type)&&uo(t.documentId,t.uuid)}(t,e+1)}))}))}function yo(t,e){return t.y<e.y?t.x-e.x:1}function mo(t,e){return yo(t.rectangles[0],e.rectangles[0])}s("annotation:add",(function(t,e,n){lo(t,e,n.type)})),s("annotation:edit",(function(t,e,n){lo(t,n.page,n.type)})),s("annotation:delete",fo),s("comment:add",po),s("comment:delete",ho);var bo={highlight:mo,strikeout:mo,drawing:function(t,e){return function(t,e){var n=t.lines[0],r=e.lines[0];return yo({x:n[0],y:n[1]},{x:r[0],y:r[1]})}({lines:t.paths[0]},{lines:e.paths[0]})},textbox:yo,point:yo,area:yo};function wo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xo(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var So='\n  <div style="visibility: hidden;" class="page" data-loaded="false">\n    <div class="canvasWrapper">\n      <canvas></canvas>\n    </div>\n    <svg class="'+zt.annotationLayerName+'"></svg>\n    <div class="'+zt.textLayerName+'"></div>\n  </div>\n';function ko(t){if(Math.floor(t)===t)return[t,1];var e=1/t;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];for(var n=t>1?e:t,r=0,o=1,i=1,a=1;;){var s=r+i,u=o+a;if(u>8)break;n<=s/u?(i=s,a=u):(r=s,o=u)}return n-r/o<i/a-n?n===t?[r,o]:[o,r]:n===t?[i,a]:[a,i]}function Oo(t,e){var n=t%e;return 0===n?t:Math.round(t-n+e)}var Co,Ao,Lo,Eo,No=!1;function jo(t){var e=At(t.clientX,t.clientY);e&&(Lo=null,(Eo=[]).push(To(e,t.clientX,t.clientY)),document.addEventListener("mousemove",Po),_t())}function Po(t){var e=At(t.clientX,t.clientY);e&&Eo&&Eo.length&&(Eo[1]=To(e,t.clientX,t.clientY),Lo&&e.removeChild(Lo),Lo=mt(e,{type:"line",strokeColor:Ao,opacity:1,strokeWidth:Co,strokeDasharray:"none",lines:Eo}))}function Ro(t){var e=At(t.clientX,t.clientY);if(e&&Eo&&Eo.length){Eo[1]=To(e,t.clientX,t.clientY);var n={type:"line",strokeColor:Ao,opacity:1,strokeWidth:Co,strokeDasharray:"none",lines:Eo},r=Dt(e),o=r.documentId,i=r.pageNumber;Fo.getStoreAdapter().addAnnotation(o,i,n).then((function(t){Lo&&e.removeChild(Lo),re(Mt(o,i,t,e))})),document.removeEventListener("mousemove",Po),Ft()}}function Io(t){27===t.keyCode&&(Eo=null,Lo.parentNode.removeChild(Lo),document.removeEventListener("mousemove",Po))}function To(t,e,n){if(!t)return null;var r=t.getBoundingClientRect();return Rt([e-r.left,n-r.top],t)}var _o={setSelectNode:re,getSelectNode:oe,getSelectNodeID:ie,getSelectPageID:function(){return Kt},addEventListener:s,removeEventListener:function(){i.removeListener.apply(i,arguments)},fireEvent:a,disableEdit:function(){le&&(le=!1,document.removeEventListener("mousedown",de),document.removeEventListener("selectstart",ge),re(null),fe($t()))},enableEdit:function(){le||(le=!0,document.addEventListener("mousedown",de),document.addEventListener("selectstart",ge),fe($t()))},deleteAnnotation:function(){var t=$t();if(t){var e=t.getAttribute("data-target-id"),n=t.parentNode.querySelector(zt.annotationSvgQuery()),r=Dt(n).documentId,o=document.querySelector('[data-pdf-annotate-id="'.concat(e,'"]'));if(o)"point"===o.getAttribute("data-pdf-annotate-type")&&Qt();re(null);var i=Fo.getStoreAdapter();i.getAnnotation(r,e).then((function(t){!function(t){for(var e=JSON.parse(localStorage.getItem("".concat(r,"/annotations")))||[],n=0,o=e.length;n<o;n++)if(e[n].uuid===t)return n}(e);i.deleteAnnotation(r,e).then((function(){var o=n.querySelector('[data-pdf-annotate-id="'.concat(e,'"]')),i=t.uuid,a=JSON.stringify(t),s=o.nextSibling?o.nextSibling.getAttribute("data-pdf-annotate-id"):null;o.parentNode.removeChild(o),Ut(r,t.page,i,{undo:{str:a,nextId:s},redo:{str:null}})}))})),a("annotation:setAnnotationSidebarEnable",!1),a("annotation:setStyleBarDisableState",!0)}},disablePen:function(){if(be){if(Se&&xe){var t=document.querySelector('svg[data-pdf-annotate-page="'.concat(Se,'"]'));t&&re(t.querySelector('[data-pdf-annotate-id="'+xe+'"]'))}be=!1,xe=null,Se=null,ke=null,document.removeEventListener("pointerdown",Ce),document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",Ae),document.removeEventListener("keyup",Ee),Ft()}},enablePen:function(){be||(be=!0,document.addEventListener("pointerdown",Ce),document.addEventListener("pointermove",Le),document.addEventListener("pointerup",Ae),document.addEventListener("keyup",Ee),_t())},setPen:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"000000";ve=Math.round(100*parseFloat(t))/100,ye=e},disablePoint:function(){gr&&(gr=!1,document.removeEventListener("mouseup",vr))},enablePoint:function(){gr||(gr=!0,document.addEventListener("mouseup",vr))},disableRect:function(){Nr&&(Nr=!1,document.removeEventListener("mouseup",Rr),document.removeEventListener("mousedown",jr),document.removeEventListener("keyup",Ir))},enableRect:function(t){kr=t,Nr||(Nr=!0,document.addEventListener("mouseup",Rr),document.addEventListener("mousedown",jr),document.addEventListener("keyup",Ir))},saveRect:Tr,disableCircle:function(){Fr&&(Fr=!1,document.removeEventListener("mouseup",Br))},enableCircle:function(t){_r=t,Fr||(Fr=!0,document.addEventListener("mouseup",Br))},setCircle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0000FF";Dr=parseInt(t,10),Mr=e},addCircle:function(t,e){var n=_r;_r=t,Br(e),_r=n},disableArrow:function(){_e&&(_e=!1,document.removeEventListener("mousedown",Fe),document.removeEventListener("keyup",Be),Ft())},enableArrow:function(){_e||(_e=!0,document.addEventListener("mousedown",Fe),document.addEventListener("keyup",Be),_t())},setArrow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0000FF";Ne=parseInt(t,10),je=e},disableEraser:function(){document.removeEventListener("pointermove",Je),document.removeEventListener("pointerdown",Ve),document.removeEventListener("pointerup",He)},enableEraser:function(){document.addEventListener("pointermove",Je),document.addEventListener("pointerdown",Ve),document.addEventListener("pointerup",He)},disableText:function(){Jr&&(Jr=!1,document.removeEventListener("mouseup",Yr))},enableText:function(){Jr||(Jr=!0,document.addEventListener("mouseup",Yr))},setTextSize:function(t){qr=parseInt(t,10)},setTextColor:function(t){Ur=t},setTextBold:function(t){zr=t},setTextItalic:function(t){Wr=t},setTextUnderline:function(t){Vr=t},setTextStrikethrough:function(t){Hr=t},createPage:function(t){var e=document.createElement("div");e.innerHTML=So;var n=e.children[0],r=n.querySelector("canvas");return n.setAttribute("id","pageContainer".concat(t)),n.setAttribute("data-page-number",t),r.mozOpaque=!0,r.setAttribute("id","page".concat(t)),n},renderPage:function(t,e){var n=e.documentId,r=e.pdfDocument,o=e.scale,i=e.rotate;return Promise.all([r.getPage(t),Fo.getAnnotations(n,t)]).then((function(e){var n=wo(e,2),r=n[0],a=n[1],s=document.getElementById("pageContainer".concat(t)),u=s.querySelector(zt.annotationClassQuery()),c=s.querySelector(".canvasWrapper canvas").getContext("2d",{alpha:!1}),l=(i+r.rotate)%360,f=r.getViewport({scale:o,rotation:l}),d=function(t,e,n){var r=document.getElementById("pageContainer".concat(t)),o=r.querySelector(".canvasWrapper canvas"),i=r.querySelector(zt.annotationClassQuery()),a=r.querySelector(".canvasWrapper"),s=r.querySelector(zt.textClassQuery()),u=(d=n,p=window.devicePixelRatio||1,h=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1,g=p/h,{sx:g,sy:g,scaled:1!==g}),c=u.scaled?[u.sx,0,0,u.sy,0,0]:null,l=ko(u.sx),f=ko(u.sy);var d,p,h,g;return r.style.visibility="",o.width=Oo(e.width*u.sx,l[0]),o.height=Oo(e.height*u.sy,f[0]),o.style.width=Oo(e.width,l[1])+"px",o.style.height=Oo(e.height,l[1])+"px",i.setAttribute("width",e.width),i.setAttribute("height",e.height),i.style.width="".concat(e.width,"px"),i.style.height="".concat(e.height,"px"),r.style.width="".concat(e.width,"px"),r.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),s.style.width="".concat(e.width,"px"),s.style.height="".concat(e.height,"px"),c}(t,f,c);return Promise.all([r.render({canvasContext:c,viewport:f,transform:d}).promise,Fo.render(u,f,a)]).then((function(){return r.getTextContent({normalizeWhitespace:!0}).then((function(e){return new Promise((function(n,r){var o=s.querySelector(zt.textClassQuery()),i=(new pdfjsViewer.DefaultTextLayerFactory).createTextLayerBuilder(o,t-1,f);i.setTextContent(e),i.render(),setTimeout((function(){try{vo(a.annotations),n()}catch(t){r(t)}}))}))}))})).then((function(){return s.setAttribute("data-loaded","true"),[r,a]}))}))},disableLine:function(){No&&(No=!1,document.removeEventListener("mouseup",Ro),document.removeEventListener("mousedown",jo),document.removeEventListener("keyup",Io))},enableLine:function(){No||(No=!0,document.addEventListener("mouseup",Ro),document.addEventListener("mousedown",jo),document.addEventListener("keyup",Io))},setLine:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FF0000";Co=Math.round(100*parseFloat(t))/100,Ao=e},addFormNode:Mt,addChildFormNode:Bt,modifyFormNode:qt,removeFormNode:Ut},Fo={findAnnotationAtPoint:Lt,findSVGContainer:Ct,convertToScreenPoint:It,convertToSvgRect:Pt,getOffsetAnnotationRect:Nt,getSVGElement:function(t){return document.querySelector('svg[data-pdf-annotate-page="'.concat(t,'"]'))},StoreAdapter:l,LocalStoreAdapter:b,LocalUserStoreAdapter:P,__storeAdapter:new l,getStoreAdapter:function(){return this.__storeAdapter},setStoreAdapter:function(t){this.__storeAdapter=t},UI:_o,render:function(t,e,n){return new Promise((function(r,o){return t.setAttribute("data-pdf-annotate-container",!0),t.setAttribute("data-pdf-annotate-viewport",JSON.stringify(e)),t.removeAttribute("data-pdf-annotate-document"),t.removeAttribute("data-pdf-annotate-page"),n?(t.setAttribute("data-pdf-annotate-document",n.documentId),t.setAttribute("data-pdf-annotate-page",n.pageNumber),Array.isArray(n.annotations)&&0!==n.annotations.length?(n.annotations.forEach((function(n){var r=t.querySelector('[data-pdf-annotate-id="'+n.uuid+'"]');r?xt(t,r,e):mt(t,n,e)})),void r(t)):r(t)):(t.innerHTML="",r(t))}))},appendChild:mt,replaceChild:bt,insertBefore:wt,calcAnnotationContentSize:function(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FF0000",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/Helvetica",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=Y(t,e,n,r,o,i,a,s),c=u.getBoundingClientRect();return X(u),{cx:c.width,cy:c.height}}(t.content,t.fontColor,t.fontFamily,e,"bold"===t.fontWeight,"italic"===t.fontStyle,t.textDecoration.underline,t.textDecoration.linethrough)},createAnnotationContentImage:function(t){return G(t.content,t.fontColor,t.fontFamily,t.fontSize,"bold"===t.fontWeight,"italic"===t.fontStyle,t.textDecoration.underline,t.textDecoration.linethrough)},getAnnotations:function(t,e){var n;return(n=this.getStoreAdapter()).getAnnotations.apply(n,arguments)},config:zt,uuid:p,ToSmoothLines:W,smoothing:U};e.default=Fo}])}));